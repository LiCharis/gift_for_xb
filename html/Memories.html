<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <title>Happy Birthday</title>
  <link rel="stylesheet" href="../css/jquery.fullPage.css">
  <link rel="stylesheet" href="../css/style.css">
  <style>
    .puzzle-game {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      width: 100%;
      height: 100%;
      background: rgb(0, 0, 0);
      border-radius: 15px;
      padding: 20px;
      text-align: center;
    }
    h3 {
      color: #f5b663;
      margin-bottom: 15px;
      font-size: 22px;
    }
    .difficulty-selector {
      margin-bottom: 15px;
    }
    .diff-btn {
      background: #f5b663;
      border: none;
      color: #333;
      margin: 0 5px;
      padding: 5px 10px;
      border-radius: 15px;
      cursor: pointer;
    }
    .diff-btn.active {
      font-weight: bold;
    }
    #puzzle-container {
      width: 300px;
      height: 300px;
      margin: 0 auto;
      position: relative;
      background: #333;
    }
    .puzzle-piece {
      position: absolute;
      border: 1px solid #000;
      cursor: pointer;
      transition: all 0.2s ease;
    }
    .puzzle-piece.selected {
      border: 2px solid #f5b663; /* é€‰ä¸­æ—¶çš„è¾¹æ¡†æ ·å¼ */
    }
    #preview-image {
      margin: 15px auto;
      width: 175px;
      height: 175px;
      border: 2px solid #f5b663;
    }
    #preview-image img {
      width: 100%;
      height: 100%;
    }
    #start-puzzle {
      background: #f5b663;
      border: none;
      color: #333;
      padding: 8px 20px;
      border-radius: 20px;
      cursor: pointer;
      margin-top: 10px;
    }
    #completion-message {
      margin-top: 15px;
      display: none;
    }
    #completion-message p {
      color: #fff;
      font-size: 18px;
    }
    #completion-message p:nth-child(2) {
      color: #f5b663;
      font-size: 16px;
      font-style: italic;
    }
    #swap-count {
      color: #f5b663;
      margin-top: 10px;
    }
  </style>
</head>

<body>
  <div class="bgcolor">
    <div class="video-box">
      <video class="video-background" preload="auto" loop playsinline autoplay src="lemon.mp4" tabindex="-1"
        muted="muted"></video>
      <div style="z-index:100;" id="dowebok">
        <!--ç¬¬ä¸€å±-->
        <div class="section">
          <div class="ly-box01">
            <div class="ly-txt01">
              <p class="ly-stxt01">ç­‰ä¸€ç¼•æ˜¥é£èµ·ï¼Œçœ‹ä¸€æœµèŠ±ç»½æ”¾</p>
             <p class="ly-stxt02">è½»ç›ˆæ‘‡æ›³ï¼Œä¼¼ä¸€ä½ä¼˜é›…çš„ç‹¬èˆè€…</p>
             <p class="ly-stxt03">æ‹¨åŠ¨ç€ç”Ÿå‘½çš„ç´å¼¦</p> 
             <p class="ly-stxt04">åœ¨è¿™ä¸ªæ¸©æŸ”çš„æ—¥å­</p>
              <p class="ly-stxt05">æ˜¥å¤©é€æ¥äº†ä½ çš„ç”Ÿæ—¥</p> 
            </div>
            <div class="ly-txt02">
              <p class="ly-stxt06">æ˜¥é›¨æ»‹æ¶¦äº†å¤§åœ°ä¸‡ç‰©</p> 
              <p class="ly-stxt07">å”¤é†’äº†å«è‹çš„èŠ±è•¾</p> 
              <p class="ly-stxt08">æ¡ƒèŠ±å’ŒæèŠ±ç¾çº¢äº†è„¸åº</p> 
              <p class="ly-stxt09">ç°‡æ‹¥ç€æ‰˜ä»˜æ˜¥é£ä¼ é€’ç››å¼€çš„å–œæ‚¦</p>
               <p class="ly-stxt10">é¡ºå¸¦ç€æ­¤ç”µå­è´ºå¡ï¼Œä»¥ä¼ è¾¾æˆ‘çš„ç¥ç¦</p> 
            </div>
            
           
          </div>
        </div>

        <!--ç¬¬äºŒå±-->
        <div class="section">
          <div class="timeline"></div>
          <div class="timepoint11"></div>
          <div class="ly-box11">
            <div class="ly-txt11" style="width:100%;height:10%;left:10%">
              <img class="ly-img11" src="../img/HappyBirthday.png" style="width:100%;height:100%">
            </div>
            <div class="ly-txt12">

            </div>
            <div class="ly-imgbox11" style="height:50%">
              <img class="ly-img11"
                src="https://img2.baidu.com/it/u=775296788,3596795793&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500"
                style="height:100%">
            </div>
          </div>
          <div class="ly-triangle11"></div>

          <div class="ly-box12">
            <div class="ly-txt13" style="width:100%;height:10%;left:10%">
              <img class="ly-img11" src="../img/HappyBirthday.png" style="width:100%;height:100%">
            </div>
            <div class="ly-txt14">
              <p>å°å¯¿æ˜Ÿ</p>
              <p>é€ä½ ä¸€æ¯æˆ‘ç²¾å¿ƒè°ƒåˆ¶çš„è‘¡è„æ±</p>
              <p>é‡Œé¢åŒ…å«100ccçš„å¿ƒæƒ³äº‹æˆ</p>
              <p>è¿˜æœ‰200ccçš„å¤©å¤©å¼€å¿ƒ</p>
              <p>æ›´æœ‰300ccçš„æ´»åŠ›åè¶³</p>
            </div>
          
          </div>
          <div class="ly-triangle12"></div>

          <!-- äº’åŠ¨å¼äº”æœˆå¤©æ­Œè¯æ—¶é—´çº¿ -->
          <div class="mayday-timeline" style="position: absolute; bottom: -10px; left: 50%; transform: translateX(-50%); width: 100%; background: transparent; border-radius: 15px; padding: 20px; z-index: 100;">
            <h3 style="text-align: center; color: #f5b663; font-size: 22px;">æˆ‘ä»¬çš„æ­Œæ›²æ—¶å…‰æœº</h3>
            <div class="timeline-container" style="display: flex; justify-content: space-between; position: relative; margin: 30px 0;">
              <div class="timeline-line" style="position: absolute; top: 15px; left: 0; right: 0; height: 3px; background: #f5b663;"></div>
              
              <!-- æ—¶é—´ç‚¹1: å€”å¼º -->
              <div class="timeline-point" style="position: relative; z-index: 5; text-align: center; cursor: pointer;" data-song="jujiang" onclick="playMaydaySong('jujiang')">
                <div class="point" style="width: 30px; height: 30px; background: #f5b663; border-radius: 50%; margin: 0 auto;"></div>
                <div class="year" style="margin-top: 8px; color: #fff; font-weight: bold;">ç›¸è¯†</div>
                <div class="lyrics" style="color: #ccc; font-style: italic; font-size: 14px; margin-top: 5px; width: 150px;">"çº¢æœå›­é‡Œåº¦è¿‡å‡ è½®æ˜¥å¤"</div>
              </div>
              
              <!-- æ—¶é—´ç‚¹2: çŸ¥è¶³ -->
              <div class="timeline-point" style="position: relative; z-index: 5; text-align: center; cursor: pointer;" data-song="zhizu" onclick="playMaydaySong('zhizu')">
                <div class="point" style="width: 30px; height: 30px; background: #f5b663; border-radius: 50%; margin: 0 auto;"></div>
                <div class="year" style="margin-top: 8px; color: #fff; font-weight: bold;">æˆé•¿</div>
                <div class="lyrics" style="color: #ccc; font-style: italic; font-size: 14px; margin-top: 5px; width: 150px;">"æ€ä¹ˆå»æ‹¥æœ‰ä¸€é“å½©è™¹"</div>
              </div>
              
              <!-- æ—¶é—´ç‚¹3: æ¸©æŸ” -->
              <div class="timeline-point" style="position: relative; z-index: 5; text-align: center; cursor: pointer;" data-song="wenrou" onclick="playMaydaySong('wenrou')">
                <div class="point" style="width: 30px; height: 30px; background: #f5b663; border-radius: 50%; margin: 0 auto;"></div>
                <div class="year" style="margin-top: 8px; color: #fff; font-weight: bold;">é™ªä¼´</div>
                <div class="lyrics" style="color: #ccc; font-style: italic; font-size: 14px; margin-top: 5px; width: 150px;">"åªæ˜¯æ€•æˆ‘äº²æ‰‹å°†æˆ‘çš„çœŸå¿ƒè‘¬é€"</div>
              </div>
              
              <!-- æ—¶é—´ç‚¹4: å¦‚çƒŸ -->
              <div class="timeline-point" style="position: relative; z-index: 5; text-align: center; cursor: pointer;" data-song="ruyan" onclick="playMaydaySong('ruyan')">
                <div class="point" style="width: 30px; height: 30px; background: #f5b663; border-radius: 50%; margin: 0 auto;"></div>
                <div class="year" style="margin-top: 8px; color: #fff; font-weight: bold;">ä»Šå¤©</div>
                <div class="lyrics" style="color: #ccc; font-style: italic; font-size: 14px; margin-top: 5px; width: 150px;">"å¦‚æœæˆ‘ä»¬ä¸æ›¾ç›¸é‡"</div>
              </div>
            </div>
            
            <div id="mayday-player" style="text-align: center; margin-top: 15px;">
              <p id="current-lyrics" style="color: #fff; font-size: 16px; margin-bottom: 10px; min-height: 20px;"></p>
              <audio id="mayday-timeline-audio" preload="auto"></audio>
              <button id="timeline-play-btn" style="display: none; background: #f5b663; border: none; color: #333; padding: 6px 12px; border-radius: 20px; cursor: pointer; margin-top: 10px;">æ’­æ”¾</button>
            </div>
          </div>
          
          <script>
            function playMaydaySong(song) {
              const audio = document.getElementById('mayday-timeline-audio');
              const lyricsDisplay = document.getElementById('current-lyrics');
              // const playButton = document.getElementById('timeline-play-btn');
              
              // æ­Œæ›²è·¯å¾„å’Œå¯¹åº”æ­Œè¯
              const songs = {
                'jujiang': {
                  path: '../music/mayday-jujiang.mp3',
                  lyrics: '"ç§¯ç§€èŠ³å æ€æºç¢‘ä¸‹ ä¸€å¹´ä¸€å¹´è®°å½•ä½ æœ€å¥½çš„å¹´å"'
                },
                'zhizu': {
                  path: '../music/mayday-zhizu.mp3',
                  lyrics: '"æ€ä¹ˆå»æ‹¥æœ‰ä¸€é“å½©è™¹ï¼Œæ€ä¹ˆå»æ‹¥æŠ±ä¸€å¤å¤©çš„é£ï¼Œå¤©ä¸Šçš„æ˜Ÿæ˜Ÿç¬‘åœ°ä¸Šçš„äºº"'
                },
                'wenrou': {
                  path: '../music/mayday-wenrou.mp3',
                  lyrics: '"æ··ä¹±çš„æ€ç»ª æ˜¯å› ä¸ºå¤ªæƒ³é è¿‘ä½ "'
                },
                'ruyan': {
                  path: '../music/mayday-ruyan.mp3',
                  lyrics: '"é‚£ä¸€å¤© é‚£ä¸€åˆ» é‚£ä¸ªåœºæ™¯ï¼Œä½ å‡ºç°åœ¨æˆ‘ç”Ÿå‘½"'
                }
              };
              
              // è®¾ç½®éŸ³é¢‘æºå’Œæ­Œè¯
              audio.src = songs[song].path;
              lyricsDisplay.textContent = songs[song].lyrics;
              
              // // æ˜¾ç¤ºæ’­æ”¾æŒ‰é’®
              // playButton.style.display = 'inline-block';
              // playButton.textContent = 'æ’­æ”¾';
              
              // // è®¾ç½®æ’­æ”¾æŒ‰é’®äº‹ä»¶
              // playButton.onclick = function() {
              //   if (audio.paused) {
              //     audio.play();
              //     this.textContent = 'æš‚åœ';
              //   } else {
              //     audio.pause();
              //     this.textContent = 'æ’­æ”¾';
              //   }
              // };
            }
          </script>
        </div>

        <!--ç¬¬ä¸‰å±-->

        <div class="section">
          <div class="timeline"></div>
          <div class="timepoint21"></div>
          <div class="ly-box21">
            <div class="ly-txt21" style="width:100%;height:10%;left:10%">
              <img class="ly-img11" src="../img/HappyBirthday.png" style="width:200%;height:100%">
            </div>
            <div class="ly-txt22" style="left:20%;font-size: 35px">
              <p>ç¥</p>
              <p>å§</p>
              <p>å§</p>
            </div>
            <div class="ly-imgbox21">
              <img class="ly-img21"
                src="../img/image2.png">
            </div>
          </div>
          <div class="ly-triangle21"></div>

          <div class="ly-box22">
            <div class="ly-txt23" style="width:100%;height:10%;left:10%">
              <img class="ly-img11" src="../img/HappyBirthday.png" style="width:200%;height:100%">
            </div>
            <div class="ly-txt24">
              <p>ç™¾äº‹å¯ä¹</p>
              <p>ä¸‡äº‹èŠ¬è¾¾</p>
              <p>å¤©å¤©å“‡å“ˆå“ˆ</p>
              <p>æœˆæœˆä¹ç™¾äº‹</p>
              <p>å¿ƒæƒ…ä¼¼é›ªç¢§</p>
              <p>æ°¸è¿œå¿ƒé£æ‰¬</p>
            </div>
            <div class="ly-imgbox22">
              <img class="ly-img22" src="../img/image.png">
            </div>
          </div>
          <div class="ly-triangle22"></div>

          <div class="ly-box23">
            <div class="ly-imgbox23" style="height: 100%">
              <div class="puzzle-game">
                <h3>é«˜è´µå¥³ç‹å’Œå¥¹çš„ä¾ä»ä»¬çš„æ‹¼å›¾æŒ‘æˆ˜</h3>
                
                <div class="difficulty-selector">
                  <button class="diff-btn active" onclick="setDifficulty(3)">ç®€å•</button>
                  <button class="diff-btn" onclick="setDifficulty(4)">ä¸­ç­‰</button>
                  <button class="diff-btn" onclick="setDifficulty(5)">å›°éš¾</button>
                </div>
                
                <div id="puzzle-container" style="display: none;"></div>
                
                <div id="preview-image">
                  <img src="../img/æ¯•ä¸šåˆç…§2.png" alt="æ¯•ä¸šåˆç…§">
            </div>
                
                <button id="start-puzzle">å¼€å§‹æ¸¸æˆ</button>
                
                <div id="swap-count"></div>
                
                <div id="completion-message">
                  <p>æ­å–œä½ å®Œæˆæ‹¼å›¾ï¼</p>
                  <p>"å¦‚æœå²æœˆå¯ä»¥è¿™æ ·å®‰æ’ï¼Œå°±è®©æˆ‘ä»¬æ°¸è¿œä¸å¿…å†å‘Šåˆ«"</p>
                  <p>ç”Ÿæ—¥å¿«ä¹å‘€ï¼Œå¸¦ç€æˆ‘ä»¬æ‰€æœ‰äººä»¥åŠå°ç‹—ä»¬çš„ç¥ç¦å±•ç¿…é«˜é£ï¼</p>
            </div>
            </div>
          </div>
             
        
        </div>
          
         
          
          <script>
            let puzzleSize = 3; // é»˜è®¤éš¾åº¦
    let pieces = []; // æ‹¼å›¾å—é€»è¾‘ä½ç½®
    let pieceElements = []; // æ‹¼å›¾å— DOM å…ƒç´ 
    let emptyCell = {}; // ç©ºç™½æ ¼å­ä½ç½®
    let isPlaying = false;
    let swapCount = 5; // äº¤æ¢æ¬¡æ•°é™åˆ¶
    let selectedPiece = null; // å½“å‰é€‰ä¸­çš„æ‹¼å›¾å—

    // è®¾ç½®éš¾åº¦
    function setDifficulty(size) {
      puzzleSize = size;
      document.querySelectorAll('.diff-btn').forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');
    }

    // å¼€å§‹/é‡ç½®æ¸¸æˆ
    document.getElementById('start-puzzle').addEventListener('click', function() {
      if (!isPlaying) {
        startPuzzle();
        this.textContent = 'é‡æ–°å¼€å§‹';
      } else {
        resetPuzzle();
      }
    });

    // å¼€å§‹æ‹¼å›¾
    function startPuzzle() {
      isPlaying = true;
      swapCount = 10; // é‡ç½®äº¤æ¢æ¬¡æ•°
      selectedPiece = null;
      updateSwapCount();
      document.getElementById('puzzle-container').style.display = 'block';
      document.getElementById('completion-message').style.display = 'none';
      createPuzzle();
    }

    // é‡ç½®æ‹¼å›¾
    function resetPuzzle() {
      const container = document.getElementById('puzzle-container');
      container.innerHTML = '';
      startPuzzle();
    }

    // åˆ›å»ºæ‹¼å›¾
    function createPuzzle() {
      const container = document.getElementById('puzzle-container');
      container.innerHTML = '';
      const pieceSize = 300 / puzzleSize;

      // åˆå§‹åŒ–æ‹¼å›¾æ•°ç»„
      pieces = Array(puzzleSize * puzzleSize).fill(null);
      pieceElements = [];
      for (let i = 0; i < puzzleSize * puzzleSize - 1; i++) {
        pieces[i] = i;
      }
      emptyCell = { row: puzzleSize - 1, col: puzzleSize - 1 };

      // æ‰“ä¹±æ‹¼å›¾
      shufflePuzzle();

      // åˆ›å»ºæ‹¼å›¾å—
      for (let i = 0; i < puzzleSize; i++) {
        for (let j = 0; j < puzzleSize; j++) {
          const index = i * puzzleSize + j;
          const pieceValue = pieces[index];

          if (pieceValue !== null) {
            const piece = document.createElement('div');
            piece.className = 'puzzle-piece';
            piece.style.width = pieceSize + 'px';
            piece.style.height = pieceSize + 'px';
            piece.style.left = (j * pieceSize) + 'px';
            piece.style.top = (i * pieceSize) + 'px';
            piece.style.backgroundImage = "url('../img/æ¯•ä¸šåˆç…§2.png')";
            piece.style.backgroundSize = `${pieceSize * puzzleSize}px ${pieceSize * puzzleSize}px`;

            // è®¾ç½®èƒŒæ™¯ä½ç½®
            const bgRow = Math.floor(pieceValue / puzzleSize);
            const bgCol = pieceValue % puzzleSize;
            piece.style.backgroundPosition = `${-(bgCol * pieceSize)}px ${-(bgRow * pieceSize)}px`;

            piece.dataset.value = pieceValue;
            piece.dataset.currentIndex = index;

            // ç‚¹å‡»äº‹ä»¶ï¼šç§»åŠ¨æˆ–é€‰æ‹©äº¤æ¢
            piece.addEventListener('click', function() {
              const currentIndex = parseInt(this.dataset.currentIndex);
              const row = Math.floor(currentIndex / puzzleSize);
              const col = currentIndex % puzzleSize;

              if (selectedPiece) {
                // å¦‚æœå·²ç»é€‰ä¸­ä¸€ä¸ªæ‹¼å›¾å—ï¼Œåˆ™å°è¯•äº¤æ¢
                swapPieces(selectedPiece, this);
                selectedPiece.classList.remove('selected');
                selectedPiece = null;
              } else if (canMove(row, col)) {
                // å¦‚æœæœªé€‰ä¸­æ‹¼å›¾å—ä¸”å¯ä»¥ç§»åŠ¨ï¼Œåˆ™æ‰§è¡Œç§»åŠ¨
                movePiece(this, row, col, currentIndex);
              } else if (swapCount > 0) {
                // å¦‚æœä¸èƒ½ç§»åŠ¨ä¸”æœ‰äº¤æ¢æ¬¡æ•°ï¼Œåˆ™é€‰ä¸­æ­¤æ‹¼å›¾å—
                this.classList.add('selected');
                selectedPiece = this;
              }
            });

            container.appendChild(piece);
            pieceElements[index] = piece;
          }
        }
      }
    }

    // æ£€æŸ¥æ˜¯å¦å¯ä»¥ç§»åŠ¨
    function canMove(row, col) {
      return (
        (Math.abs(row - emptyCell.row) === 1 && col === emptyCell.col) ||
        (Math.abs(col - emptyCell.col) === 1 && row === emptyCell.row)
      );
    }

    // ç§»åŠ¨æ‹¼å›¾å—
    function movePiece(piece, row, col, currentIndex) {
      const emptyIndex = emptyCell.row * puzzleSize + emptyCell.col;
      const pieceSize = 300 / puzzleSize;

      pieces[emptyIndex] = pieces[currentIndex];
      pieces[currentIndex] = null;
      piece.dataset.currentIndex = emptyIndex;

      piece.style.left = (emptyCell.col * pieceSize) + 'px';
      piece.style.top = (emptyCell.row * pieceSize) + 'px';

      emptyCell.row = row;
      emptyCell.col = col;

      checkCompletion();
    }

    // äº¤æ¢ä¸¤ä¸ªæ‹¼å›¾å—
    function swapPieces(piece1, piece2) {
      if (swapCount <= 0 || piece1 === piece2) return;

      const index1 = parseInt(piece1.dataset.currentIndex);
      const index2 = parseInt(piece2.dataset.currentIndex);
      const pieceSize = 300 / puzzleSize;

      // äº¤æ¢ pieces æ•°ç»„ä¸­çš„å€¼
      [pieces[index1], pieces[index2]] = [pieces[index2], pieces[index1]];

      // æ›´æ–° DOM ä½ç½®
      const tempLeft = piece1.style.left;
      const tempTop = piece1.style.top;
      piece1.style.left = piece2.style.left;
      piece1.style.top = piece2.style.top;
      piece2.style.left = tempLeft;
      piece2.style.top = tempTop;

      // æ›´æ–° currentIndex
      piece1.dataset.currentIndex = index2;
      piece2.dataset.currentIndex = index1;

      // å¦‚æœäº¤æ¢æ¶‰åŠç©ºç™½æ ¼å­ï¼Œæ›´æ–° emptyCell
      if (pieces[index1] === null) {
        emptyCell.row = Math.floor(index1 / puzzleSize);
        emptyCell.col = index1 % puzzleSize;
      } else if (pieces[index2] === null) {
        emptyCell.row = Math.floor(index2 / puzzleSize);
        emptyCell.col = index2 % puzzleSize;
      }

      swapCount--;
      updateSwapCount();
      checkCompletion();
    }

    // æ‰“ä¹±æ‹¼å›¾
    function shufflePuzzle() {
      for (let i = 0; i < 200; i++) {
        const possibleMoves = [];
        if (emptyCell.row > 0) possibleMoves.push({ row: emptyCell.row - 1, col: emptyCell.col });
        if (emptyCell.row < puzzleSize - 1) possibleMoves.push({ row: emptyCell.row + 1, col: emptyCell.col });
        if (emptyCell.col > 0) possibleMoves.push({ row: emptyCell.row, col: emptyCell.col - 1 });
        if (emptyCell.col < puzzleSize - 1) possibleMoves.push({ row: emptyCell.row, col: emptyCell.col + 1 });

        const move = possibleMoves[Math.floor(Math.random() * possibleMoves.length)];
        const moveIndex = move.row * puzzleSize + move.col;
        const emptyIndex = emptyCell.row * puzzleSize + emptyCell.col;

        pieces[emptyIndex] = pieces[moveIndex];
        pieces[moveIndex] = null;
        emptyCell.row = move.row;
        emptyCell.col = move.col;
      }
    }

    // æ£€æŸ¥æ‹¼å›¾æ˜¯å¦å®Œæˆ
    function checkCompletion() {
      let completed = true;
      for (let i = 0; i < puzzleSize * puzzleSize - 1; i++) {
        if (pieces[i] !== i) {
          completed = false;
          break;
        }
      }
      if (completed && pieces[puzzleSize * puzzleSize - 1] === null) {
        document.getElementById('puzzle-container').style.display = 'none';
        document.getElementById('completion-message').style.display = 'block';
        document.getElementById('start-puzzle').textContent = 'å†ç©ä¸€æ¬¡';
        isPlaying = false;
      }
    }

    // æ›´æ–°äº¤æ¢æ¬¡æ•°æ˜¾ç¤º
    function updateSwapCount() {
      document.getElementById('swap-count').textContent = `å‰©ä½™ä»»æ„äº¤æ¢æ¬¡æ•°ï¼š${swapCount}`;
    }
  </script>
        </div>

        <!--ç¬¬å››å±-->

        <div class="section">
          <div class="timeline"></div>
          <div class="timepoint31"></div>
          <div class="ly-box31">
            <div class="ly-txt31" style="width:100%;height:10%;left:10%">
              <img class="ly-img11" src="../img/HappyBirthday.png" style="width:100%;height:100%">
            </div>
            <div class="ly-txt32">
              <p>æ„¿ä½ </p>
              <p>è´ªåƒä¸èƒ–ï¼ŒåŠªåŠ›ä¸è´Ÿï¼Œç¬¨äººç¬¨ç¦ï¼Œ</p>
              <p>ä¸€ç›´å¹¸è¿ã€‚ä¸€ç”ŸåŠªåŠ›ï¼Œä¸€ç”Ÿè¢«çˆ±ï¼Œ</p>
              <p>æƒ³è¦çš„éƒ½æ‹¥æœ‰ï¼Œå¾—ä¸åˆ°çš„éƒ½é‡Šæ€€ã€‚ğŸŒˆ</p>
            </div>
            <div class="ly-imgbox31" style="height:50%">
              <img class="ly-img31" src="../img/pingpangqiu.jpg" style="height:100%">
            </div>
          </div>
          <div class="ly-triangle31"></div>

          <div class="ly-box32">
            <div class="ly-txt33" style="width:100%;height:15%;left:10%">
              <img class="ly-img11" src="../img/HappyBirthday.png" style="width:100%;height:100%">
            </div>
            <div class="ly-txt34">
              <p>
                æ­¤åˆ»æŠŠçœ¼ç›é—­ä¸Šï¼Œä½ ä¼šçœ‹åˆ°ä¸€æ ¹ç‚¹äº®çš„èœ¡çƒ›</p>
              <p>å»è®¸ä¸ªæ„¿æœ›å§!</p>
            </div>
            <div class="ly-imgbox311">
              <img class="ly-img31" src="../img/tujiangehuihezhao.png" style="height:100%">
            </div>
         
              <!-- çŒœæ­Œè¯å°æ¸¸æˆ -->
          <div class="lyrics-game" style="position: absolute; bottom: 0px; left: 50%; transform: translateX(-50%); width: 100%; background: rgba(108, 107, 107, 0.8); padding: 0px; z-index: 100; text-align: center;">
            <h3 style="color: #f5b663; margin-bottom: 15px; font-size: 20px;margin: 0 auto;">çŒœçŒœæˆ‘ä»¬å¬è¿‡çš„æ­Œè¯</h3>
            
            <div id="game-container">
              <div id="game-intro" style="color: #fff; margin-bottom: 20px;">
                <p>çŒœä¸€çŒœç¼ºå¤±çš„æ­Œè¯ã€‚ç­”å¯¹äº”é¢˜è§£é”ç¥ç§˜ç”Ÿæ—¥ç¥ç¦ï¼</p>
                <button id="start-lyrics-game" style="background: #f5b663; border: none; color: #333; padding: 8px 20px; border-radius: 20px; cursor: pointer; margin-top: 10px;">å¼€å§‹æŒ‘æˆ˜</button>
              </div>
              
              <div id="game-play" style="display: none;">
                <div id="current-question" style="color: #fff; font-size: 18px; margin-bottom: 15px;"></div>
                
                <div id="audio-container" style="display: none;">
                  <audio id="song-audio" controls style="width: 100%;">
                    <source src="" type="audio/mpeg">
                  </audio>
                </div>
                
                <div id="lyrics-display" style="color: #fff; font-size: 16px; font-style: italic; margin-bottom: 20px; line-height: 1.6;"></div>
                
                <div id="answer-input" style="margin-bottom: 15px;">
                  <input type="text" id="user-answer" placeholder="å¡«å†™ç¼ºå¤±çš„æ­Œè¯(å›è½¦é”®æäº¤)" style="padding: 8px 15px; width: 70%; border-radius: 20px; border: none; margin-right: 10px;">
                  <!-- <button id="submit-answer" style="background: #f5b663; border: none; color: #333; padding: 8px 15px; border-radius: 20px; cursor: pointer;">æäº¤</button> -->
                </div>
                
                <div id="feedback" style="color: #fff; font-size: 20px; height: 20px; margin-bottom: 5px;"></div>
                
                <!-- <div id="hint-container" style="margin-top: 10px;">
                  <button id="show-hint" style="background: transparent; border: 1px solid #f5b663; color: #f5b663; padding: 5px 10px; border-radius: 15px; cursor: pointer;">æ˜¾ç¤ºæç¤º</button>
                  <p id="hint-text" style="color: #ccc; font-size: 14px; margin-top: 10px; display: none;"></p>
                </div> -->
                
                <div id="progress" style="color: #f5b663; margin-top: 15px;">
                 <span id="correct-count" style="display: none;">0</span>
                </div>
              </div>
              
              <div id="game-complete" style="display: none; color: #fff;">
                <p style="font-size: 20px; margin-bottom: 15px;">æ­å–œä½ å®Œæˆäº†æ‰€æœ‰æŒ‘æˆ˜ï¼</p>
                <div style="background: url('../img/zipai.jpg') no-repeat center; background-size: cover; width: 300px; height: 200px; margin: 0 auto 20px; border-radius: 10px; position: relative;">
                  <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: transparent; padding: 15px; border-radius: 10px; width: 80%;">
                    <p style="color: #f5b663; font-size: 18px;">ä»Šå¤©æˆ‘é™ªä½ ä¸€èµ·è¿‡ç”Ÿæ—¥ï¼</p>
                    <p style="color: #fff; font-size: 13px; margin-top: 90px;">æ„¿ä½ å¦‚ã€Šä¸ƒé‡Œé¦™ã€‹èˆ¬æ¸©æš–ï¼Œåƒã€Šå‡¤å‡°èŠ±å¼€çš„è·¯å£ã€‹èˆ¬çæƒœï¼Œå¦‚ã€Šå¤ªèªæ˜ã€‹èˆ¬çœŸå¿ƒï¼</p>
                  </div>
                </div>
                <button id="restart-game" style="background: #f5b663; border: none; color: #333; padding: 8px 20px; border-radius: 20px; cursor: pointer; margin-top: 10px;">å†ç©ä¸€æ¬¡</button>
              </div>
            </div>
          </div>
           
          </div>
          <div class="ly-triangle32"></div>
          
        
          
          <script>
            // æ­Œæ›²æ•°æ®
            const lyricsQuestions = [
              {
                songTitle: "ä¸ƒé‡Œé¦™",
                audioSrc: "../music/ä¸ƒé‡Œé¦™.MP3",
                lyrics: "é‚£æ¸©æš–çš„___åƒåˆšæ‘˜çš„é²œè‰³è‰è“ ä½ è¯´ä½ èˆä¸æ‰åƒæ‰è¿™ä¸€ç§æ„Ÿè§‰",
                answer: "é˜³å…‰",
                hint: ""
              },
              {
                songTitle: "çŸ¥è¶³",
                audioSrc: "../music/zhizu.MP3",
                lyrics: "å¦‚æœæˆ‘çˆ±ä¸Šä½ çš„___ï¼Œè¦æ€ä¹ˆæ”¶è—è¦æ€ä¹ˆæ‹¥æœ‰",
                answer: "ç¬‘å®¹",
                hint: ""
              },
              {
                songTitle: "å‡¤å‡°èŠ±å¼€çš„è·¯å£",
                audioSrc: "../music/å‡¤å‡°èŠ±å¼€çš„è·¯å£.MP3",
                lyrics: "è„‘æµ·ä¹‹ä¸­æœ‰ä¸€ä¸ªå‡¤å‡°èŠ±å¼€çš„è·¯å£ æœ‰æˆ‘æœ€___çš„æœ‹å‹",
                answer: "çæƒœ",
                hint: ""
              },
              {
                songTitle: "å¦‚æœæˆ‘ä»¬ä¸æ›¾ç›¸é‡",
                audioSrc: "../music/rugyuowomenbucengxiangyu.MP3",
                lyrics: "é‚£ä¸€å¤© é‚£ä¸€åˆ» é‚£ä¸ªåœºæ™¯ï¼Œä½ å‡ºç°åœ¨æˆ‘___",
                answer: "ç”Ÿå‘½",
                hint: ""
              },
              // {
              //   songTitle: "çªç„¶å¥½æƒ³ä½ ",
              //   audioSrc: "../music/turanhaoxiangni.MP3",
              //   lyrics: "___ï¼Œä½ ä¼šåœ¨å“ªé‡Œï¼Œè¿‡å¾—å¿«ä¹æˆ–å§”å±ˆ",
              //   answer: "çªç„¶å¥½æƒ³ä½ ",
              //   hint: ""
              // },
              // {
              //   songTitle: "æˆ‘ä¸æ„¿ è®©ä½ ä¸€ä¸ªäºº",
              //   audioSrc: "../music/wobuyuanrangniyigeren.MP3",
              //   lyrics: "æˆ‘ä¸æ„¿ ä½ ç‹¬è‡ªèµ°è¿‡ ___çš„æ—¶åˆ†",
              //   answer: "é£é›¨",
              //   hint: ""
              // },
              {
                songTitle: "å¤ªèªæ˜",
                audioSrc: "../music/å¤ªèªæ˜.MP3",
                lyrics: "å¤ªèªæ˜çš„å–å¼„ åªæ˜¯æ€•äº²æ‰‹å°†æˆ‘çš„___è‘¬é€",
                answer: "çœŸå¿ƒ",
                hint: ""
              },
              {
                songTitle: "å¹²æ¯",
                audioSrc: "../music/ganbei.MP3",
                lyrics: "ç»ˆç©¶ä¼š æœ‰ä¸€å¤© ___éƒ½å˜æˆæ˜¨å¤©",
                answer: "æˆ‘ä»¬",
                hint: ""
              }
              // {
              //   songTitle: "åæ¥çš„æˆ‘ä»¬",
              //   audioSrc: "../music/houlaidewomen.MP3",
              //   lyrics: "åæ¥çš„æˆ‘ä»¬æˆ‘___ç€ï¼Œæ³ªæ°´ä¸­èƒ½çœ‹åˆ°ä½ çœŸçš„å¹¸ç¦å¿«ä¹",
              //   answer: "æœŸå¾…",
              //   hint: ""
              // },
              
            ];
            
            let currentQuestionIndex = 0;
            let correctAnswers = 0;
            let usedQuestions = [];
            const audio = document.getElementById('song-audio');
            let audioEndedHandler = null; // ç”¨äºå­˜å‚¨äº‹ä»¶ç›‘å¬å™¨
            
            document.getElementById('start-lyrics-game').addEventListener('click', function() {
              document.getElementById('game-intro').style.display = 'none';
              document.getElementById('game-play').style.display = 'block';
              startLyricsGame();
            });
            
            // document.getElementById('show-hint').addEventListener('click', function() {
            //   const hintText = document.getElementById('hint-text');
            //   if (hintText.style.display === 'none') {
            //     hintText.style.display = 'block';
            //     this.textContent = 'éšè—æç¤º';
            //   } else {
            //     hintText.style.display = 'none';
            //   }
            // });
            
            // document.getElementById('submit-answer').addEventListener('click', checkAnswer);
            document.getElementById('user-answer').addEventListener('keypress', function(e) {
              if (e.key === 'Enter') {
                checkAnswer();
              }
            });
            
            document.getElementById('restart-game').addEventListener('click', function() {
              correctAnswers = 0;
              usedQuestions = [];
              document.getElementById('game-complete').style.display = 'none';
              document.getElementById('game-play').style.display = 'block';
              document.getElementById('correct-count').textContent = correctAnswers;
              startLyricsGame();
            });
            
            function startLyricsGame() {

              // ç§»é™¤ä¹‹å‰çš„ ended äº‹ä»¶ç›‘å¬å™¨ï¼Œé¿å…é‡å¤ç»‘å®š
              if (audioEndedHandler) {
                audio.removeEventListener('ended', audioEndedHandler);
              }

              // éšæœºé€‰æ‹©ä¸€ä¸ªé—®é¢˜ juejiang.MP3
              selectRandomQuestion();
              
              // è®¾ç½®é—®é¢˜å†…å®¹
              const currentQuestion = lyricsQuestions[currentQuestionIndex];
              document.getElementById('current-question').textContent = `æ­Œæ›²ï¼š${currentQuestion.songTitle}`;
              document.getElementById('lyrics-display').textContent = currentQuestion.lyrics;
              // document.getElementById('hint-text').textContent = `æç¤ºï¼š${currentQuestion.hint}`;
              // document.getElementById('hint-text').style.display = 'none';
              // document.getElementById('show-hint').textContent = 'æ˜¾ç¤ºæç¤º';
              document.getElementById('feedback').textContent = '';
              document.getElementById('user-answer').value = '';
              
              // è®¾ç½®éŸ³é¢‘
              // const audio = document.getElementById('song-audio');
              audio.src = currentQuestion.audioSrc;
              audio.load();
            }
            
            function selectRandomQuestion() {
              // é€‰æ‹©ä¸€ä¸ªå°šæœªä½¿ç”¨çš„é—®é¢˜
              if (usedQuestions.length === lyricsQuestions.length) {
                // å¦‚æœæ‰€æœ‰é—®é¢˜éƒ½å·²ä½¿ç”¨ï¼Œé‡ç½®
                usedQuestions = [];
              }
              
              let randomIndex;
              do {
                randomIndex = Math.floor(Math.random() * lyricsQuestions.length);
              } while (usedQuestions.includes(randomIndex));
              
              currentQuestionIndex = randomIndex;
              usedQuestions.push(randomIndex);
            }
            
            function checkAnswer() {
              const userAnswer = document.getElementById('user-answer').value.trim();
              const correctAnswer = lyricsQuestions[currentQuestionIndex].answer;
              const feedback = document.getElementById('feedback');
              
              if (userAnswer.toLowerCase() === correctAnswer.toLowerCase()) {
                feedback.textContent = 'ç­”å¯¹äº†ï¼';
                feedback.style.color = '#4CAF50';
                correctAnswers++;
                document.getElementById('correct-count').textContent = correctAnswers;
                // ç­”å¯¹åè‡ªåŠ¨æ’­æ”¾éŸ³é¢‘
                audio.currentTime = 0; // é‡ç½®éŸ³é¢‘åˆ°å¼€å¤´
                audio.play();

                // å®šä¹‰ ended äº‹ä»¶å¤„ç†å‡½æ•°
                audioEndedHandler = function() {
                  if (correctAnswers >= 12) {
                    document.getElementById('game-play').style.display = 'none';
                    document.getElementById('game-complete').style.display = 'block';
                  } else {
                    startLyricsGame();
                  }
                };

                // æ·»åŠ  ended äº‹ä»¶ç›‘å¬å™¨
                audio.addEventListener('ended', audioEndedHandler);
              } else {
                feedback.textContent = 'ç­”é”™äº†ï¼Œå†è¯•è¯•å§ï¼';
                feedback.style.color = '#F44336';
              }
            }
          </script>
        </div>

        <!--ç¬¬å››å±-->

        <div class="section">
          <div class="timeline"></div>
          <div class="timepoint11"></div>
          <div class="ly-box81">
            <div class="ly-txt11" style="width:100%;height:10%;left:10%">
              <img class="ly-img11" src="../img/HappyBirthday.png" style="width:200%;height:200%">
            </div>
            <div class="ly-txt82" style="top:8%">
              <p class="wwww1">æ¥è‡ªæµ·æ—­çš„ç¥ç¦</p>
              <p class="wwww1">å…³äºæ­¤äº‹æˆ‘åˆæ€»ç»“äº†ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
              <p class="wwww1">ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚</p>
              <p class="wwww1">ç®—äº†ï¼Œç®€å•è¯´å‡ å¥å§</p>
              <p class="wwww1">â–· ï¸Ä±||Ä±Ä±Ä±||Ä±|Ä±||Ä±Ä±Ä±||Ä±| 59''</p>
              <p class="wwww1">ç›¸ä¿¡ä½ èƒ½å¬æ‡‚å§(doge)</p>
            </div>
            <div class="ly-imgbox81">
              <img class="ly-img81" src="../img/image3.png">
            </div>
          </div>
          <div class="ly-triangle11"></div>

          <div class="ly-box82">
            <div class="ly-txt13" style="width:100%;height:10%;left:10%">
              <img class="ly-img11" src="../img/HappyBirthday.png" style="width:100%;height:100%">
            </div>
            <div class="ly-txt84">
              <p>å“ˆå“ˆå“ˆè¿˜æ˜¯æˆ‘æ¥ç»™ä½ ç¿»è¯‘ä¸€ä¸‹å§ï¼š</p>
              <p>Hi!æ€¡éœ–!</p>

              <p>åœ¨è¿™ä¸ªæ—¶åˆ»ï¼Œé¦–å…ˆé€ä¸Šæˆ‘çš„ç¥ç¦ï¼Œå¸Œæœ›2025èº«ä½“å¥åº·ï¼Œæ‰€æœ‰çš„çƒ¦æ¼ç»Ÿç»Ÿå…¨å¿˜æ‰ã€‚</p>

              <p>è™½ç„¶åˆè€äº†ä¸€å²ä½†æ˜¯å¸Œæœ›æ¯å¤©éƒ½èƒ½å¼€å¼€å¿ƒå¿ƒï¼Œåƒç‰¹åˆ«å¤šçš„å¥½åƒçš„ï¼Œå’‹åƒéƒ½ä¸èƒ–ã€‚(å¿ƒæƒ…å¥½æ‰èƒ½æˆä¸ºå¤§é¥­æ¡¶)</p>
              <p>å»ç‰¹åˆ«å¤šå¥½ç©çš„åœ°æ–¹ï¼Œå’‹ç©éƒ½ä¸ä¼šç´¯ã€‚(æˆ‘é‚£è¶…çº§æ—ºç››ç²¾åŠ›)</p>
              <p>æ„¿ä½ åœ¨æœ€å¥½çš„å¹´åï¼Œå¥”èµ°åœ¨è‡ªå·±çš„çƒ­çˆ±é‡Œã€‚</p>

              <p>æœ€åæˆ‘å†ç»™ä½ è®²ä¸ªæ•…äº‹</p>
              <p>æœ‰ä¸€å¤©å•Šï¼Œæœ‰ä¸€ä½å¤§å¸ˆæŠ“äº†ä¸€åªå°çŒªï¼Œæ²¡ç•™æ„ï¼Œè®©çŒªç»™è·‘äº†</p>
              <p>ä½ çŸ¥é“å°çŒªè·‘å“ªé‡Œå»äº†å—ï¼ŸåŸæ¥è¿™çŒªååˆ†çš„æœ‰çµæ€§</p>
              <p>å¬è§æˆ‘åœ¨è®²æ•…äº‹å°±è·‘æ¥å¬æ•…äº‹äº† å“ˆå“ˆå“ˆå“ˆå“ˆå‘µå‘µå“ˆå“ˆå“ˆ</p>
              <hr>
              <p>èå°”ä¸€ç¬‘ï¼Œå«£ç„¶ç»½æ”¾ã€‚</p>
               <p>æ˜¥å…‰æ˜“é€ï¼Œä½†ä¾æ—§æœŸå¾…ç€ä¸‹ä¸€æ¬¡çš„ä¸°æ”¶ä¹‹æ—…ã€‚</p>
              <p><a href="./EasterEgg.html">æˆ‘åŠä½ ä¸è¦ç‚¹è¿™é‡Œï¼ï¼ï¼</a> </p>
              
              <!-- æ·»åŠ äº”æœˆå¤©è™šæ‹Ÿæ¼”å”±ä¼šé“¾æ¥ -->
              <!-- <div class="mayday-concert-link" style="margin-top: 20px; padding: 15px; background: rgba(0,0,0,0.7); border-radius: 10px; text-align: center;">
                <p style="color: #f5b663; font-size: 18px; margin-bottom: 10px;">äº”æœˆå¤©ä¸ºä½ å‡†å¤‡äº†ä¸“å±æ¼”å”±ä¼šï¼</p>
                <a href="./MaydayConcert.html" style="display: inline-block; background: #f5b663; color: #333; padding: 8px 20px; border-radius: 20px; text-decoration: none; font-weight: bold;">ç‚¹å‡»è¿›å…¥è™šæ‹Ÿæ¼”å”±ä¼š</a>
              </div> -->
            </div>

          </div>
          <div class="ly-triangle82"></div>
        </div>
      </div>

    </div>
    <!--è¯•éªŒ-->
    <ul class="bg-bubbles">
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
    </ul>

  </div>

  <script>

    // ä¿®æ”¹éŸ³ä¹è‡ªåŠ¨æ’­æ”¾
    const audio1 = document.createElement("audio");
        audio1.src = "../music/yuyinniaoniao.MP3";
        audio1.autoplay = true;
        audio1.loop = true; // æ·»åŠ å¾ªç¯æ’­æ”¾
        document.body.appendChild(audio1);

        // ç¡®ä¿éŸ³ä¹åœ¨é¡µé¢åŠ è½½æ—¶æ’­æ”¾
        document.addEventListener('DOMContentLoaded', function() {
            audio1.play().catch(function(error) {
                console.log("è‡ªåŠ¨æ’­æ”¾è¢«é˜»æ­¢:", error);
                // æ·»åŠ ç”¨æˆ·äº¤äº’åæ’­æ”¾çš„å¤‡ç”¨æ–¹æ¡ˆ
                document.body.addEventListener('click', function() {
                    audio1.play();
                }, { once: true });
            });
        });
  </script>
  <!-- <audio src="../music/ä½™éŸ³è¢…è¢… - ç¬é—´çš„æ°¸æ’ (èŠ‚ç›®).mp3" autoplay="autoplay" loop="loop"> -->

    <script src="../js/jquery-1.8.3.min.js"></script>
    <script src="../js/jquery.fullPage.min.js"></script>
    <script src="../js/diy.js"></script>
</body>

</html>